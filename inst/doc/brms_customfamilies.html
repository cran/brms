<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Paul Bürkner" />

<meta name="date" content="2023-08-13" />

<title>Define Custom Response Distributions with brms</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Define Custom Response Distributions with
brms</h1>
<h4 class="author">Paul Bürkner</h4>
<h4 class="date">2023-08-13</h4>


<div id="TOC">
<ul>
<li><a href="#introduction" id="toc-introduction">Introduction</a></li>
<li><a href="#a-case-study" id="toc-a-case-study">A Case Study</a></li>
<li><a href="#the-beta-binomial-distribution" id="toc-the-beta-binomial-distribution">The Beta-Binomial
Distribution</a></li>
<li><a href="#fitting-custom-family-models" id="toc-fitting-custom-family-models">Fitting Custom Family
Models</a></li>
<li><a href="#post-processing-custom-family-models" id="toc-post-processing-custom-family-models">Post-Processing Custom
Family Models</a></li>
<li><a href="#turning-a-custom-family-into-a-native-family" id="toc-turning-a-custom-family-into-a-native-family">Turning a Custom
Family into a Native Family</a></li>
</ul>
</div>

<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>The <strong>brms</strong> package comes with a lot of built-in
response distributions – usually called <em>families</em> in R – to
specify among others linear, count data, survival, response times, or
ordinal models (see <code>help(brmsfamily)</code> for an overview).
Despite supporting over two dozen families, there is still a long list
of distributions, which are not natively supported. The present vignette
will explain how to specify such <em>custom families</em> in
<strong>brms</strong>. By doing that, users can benefit from the
modeling flexibility and post-processing options of
<strong>brms</strong> even when using self-defined response
distributions. If you have built a custom family that you want to make
available to other users, you can submit a pull request to this <a href="https://github.com/paul-buerkner/custom-brms-families">GitHub
repository</a>.</p>
</div>
<div id="a-case-study" class="section level2">
<h2>A Case Study</h2>
<p>As a case study, we will use the <code>cbpp</code> data of the
<strong>lme4</strong> package, which describes the development of the
CBPP disease of cattle in Africa. The data set contains four variables:
<code>period</code> (the time period), <code>herd</code> (a factor
identifying the cattle herd), <code>incidence</code> (number of new
disease cases for a given herd and time period), as well as
<code>size</code> (the herd size at the beginning of a given time
period).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;cbpp&quot;</span>, <span class="at">package =</span> <span class="st">&quot;lme4&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">head</span>(cbpp)</span></code></pre></div>
<pre><code>  herd incidence size period
1    1         2   14      1
2    1         3   12      2
3    1         4    9      3
4    1         0    5      4
5    2         3   22      1
6    2         1   18      2</code></pre>
<p>In a first step, we will be predicting <code>incidence</code> using a
simple binomial model, which will serve as our baseline model. For
observed number of events <span class="math inline">\(y\)</span>
(<code>incidence</code> in our case) and total number of trials <span class="math inline">\(T\)</span> (<code>size</code>), the probability
mass function of the binomial distribution is defined as</p>
<p><span class="math display">\[
P(y | T, p) = \binom{T}{y} p^{y} (1 - p)^{N-y}
\]</span></p>
<p>where <span class="math inline">\(p\)</span> is the event
probability. In the classical binomial model, we will directly predict
<span class="math inline">\(p\)</span> on the logit-scale, which means
that for each observation <span class="math inline">\(i\)</span> we
compute the success probability <span class="math inline">\(p_i\)</span>
as</p>
<p><span class="math display">\[
p_i = \frac{\exp(\eta_i)}{1 + \exp(\eta_i)}
\]</span></p>
<p>where <span class="math inline">\(\eta_i\)</span> is the linear
predictor term of observation <span class="math inline">\(i\)</span>
(see <code>vignette(&quot;brms_overview&quot;)</code> for more details on linear
predictors in <strong>brms</strong>). Predicting <code>incidence</code>
by <code>period</code> and a varying intercept of <code>herd</code> is
straight forward in <strong>brms</strong>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>fit1 <span class="ot">&lt;-</span> <span class="fu">brm</span>(incidence <span class="sc">|</span> <span class="fu">trials</span>(size) <span class="sc">~</span> period <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>herd),</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>            <span class="at">data =</span> cbpp, <span class="at">family =</span> <span class="fu">binomial</span>())</span></code></pre></div>
<p>In the summary output, we see that the incidence probability varies
substantially over herds, but reduces over the course of the time as
indicated by the negative coefficients of <code>period</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">summary</span>(fit1)</span></code></pre></div>
<pre><code> Family: binomial 
  Links: mu = logit 
Formula: incidence | trials(size) ~ period + (1 | herd) 
   Data: cbpp (Number of observations: 56) 
  Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;
         total post-warmup draws = 4000

Group-Level Effects: 
~herd (Number of levels: 15) 
              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS
sd(Intercept)     0.76      0.22     0.39     1.27 1.00     1118     2090

Population-Level Effects: 
          Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS
Intercept    -1.41      0.27    -1.96    -0.90 1.00     1817     1717
period2      -1.00      0.32    -1.64    -0.39 1.00     3760     3272
period3      -1.14      0.33    -1.80    -0.51 1.00     4286     3168
period4      -1.61      0.44    -2.50    -0.80 1.00     3674     2995

Draws were sampled using sampling(NUTS). For each parameter, Bulk_ESS
and Tail_ESS are effective sample size measures, and Rhat is the potential
scale reduction factor on split chains (at convergence, Rhat = 1).</code></pre>
<p>A drawback of the binomial model is that – after taking into account
the linear predictor – its variance is fixed to <span class="math inline">\(\text{Var}(y_i) = T_i p_i (1 - p_i)\)</span>. All
variance exceeding this value cannot be not taken into account by the
model. There are multiple ways of dealing with this so called
<em>overdispersion</em> and the solution described below will serve as
an illustrative example of how to define custom families in
<strong>brms</strong>.</p>
</div>
<div id="the-beta-binomial-distribution" class="section level2">
<h2>The Beta-Binomial Distribution</h2>
<p>The <em>beta-binomial</em> model is a generalization of the
<em>binomial</em> model with an additional parameter to account for
overdispersion. In the beta-binomial model, we do not predict the
binomial probability <span class="math inline">\(p_i\)</span> directly,
but assume it to be beta distributed with hyperparameters <span class="math inline">\(\alpha &gt; 0\)</span> and <span class="math inline">\(\beta &gt; 0\)</span>:</p>
<p><span class="math display">\[
p_i \sim \text{Beta}(\alpha_i, \beta_i)
\]</span></p>
<p>The <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> parameters are both hard to
interpret and generally not recommended for use in regression models.
Thus, we will apply a different parameterization with parameters <span class="math inline">\(\mu \in [0, 1]\)</span> and <span class="math inline">\(\phi &gt; 0\)</span>, which we will call <span class="math inline">\(\text{Beta2}\)</span>:</p>
<p><span class="math display">\[
\text{Beta2}(\mu, \phi) = \text{Beta}(\mu \phi, (1-\mu) \phi)
\]</span></p>
<p>The parameters <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\phi\)</span> specify the mean and precision
parameter, respectively. By defining</p>
<p><span class="math display">\[
\mu_i = \frac{\exp(\eta_i)}{1 + \exp(\eta_i)}
\]</span></p>
<p>we still predict the expected probability by means of our transformed
linear predictor (as in the original binomial model), but account for
potential overdispersion via the parameter <span class="math inline">\(\phi\)</span>.</p>
</div>
<div id="fitting-custom-family-models" class="section level2">
<h2>Fitting Custom Family Models</h2>
<p>The beta-binomial distribution is natively supported in
<strong>brms</strong> nowadays, but we will still use it as an example
to define it ourselves via the <code>custom_family</code> function. This
function requires the family’s name, the names of its parameters
(<code>mu</code> and <code>phi</code> in our case), corresponding link
functions (only applied if parameters are predicted), their theoretical
lower and upper bounds (only applied if parameters are not predicted),
information on whether the distribution is discrete or continuous, and
finally, whether additional non-parameter variables need to be passed to
the distribution. For our beta-binomial example, this results in the
following custom family:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>beta_binomial2 <span class="ot">&lt;-</span> <span class="fu">custom_family</span>(</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  <span class="st">&quot;beta_binomial2&quot;</span>, <span class="at">dpars =</span> <span class="fu">c</span>(<span class="st">&quot;mu&quot;</span>, <span class="st">&quot;phi&quot;</span>),</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>  <span class="at">links =</span> <span class="fu">c</span>(<span class="st">&quot;logit&quot;</span>, <span class="st">&quot;log&quot;</span>),</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>  <span class="at">lb =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), <span class="at">ub =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>),</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;int&quot;</span>, <span class="at">vars =</span> <span class="st">&quot;vint1[n]&quot;</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>)</span></code></pre></div>
<p>The name <code>vint1</code> for the variable containing the number of
trials is not chosen arbitrarily as we will see below. Next, we have to
provide the relevant <strong>Stan</strong> functions if the distribution
is not defined in <strong>Stan</strong> itself. For the
<code>beta_binomial2</code> distribution, this is straight forward since
the ordinal <code>beta_binomial</code> distribution is already
implemented.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>stan_funs <span class="ot">&lt;-</span> <span class="st">&quot;</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="st">  real beta_binomial2_lpmf(int y, real mu, real phi, int T) {</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="st">    return beta_binomial_lpmf(y | T, mu * phi, (1 - mu) * phi);</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="st">  }</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="st">  int beta_binomial2_rng(real mu, real phi, int T) {</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="st">    return beta_binomial_rng(T, mu * phi, (1 - mu) * phi);</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="st">  }</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="st">&quot;</span></span></code></pre></div>
<p>For the model fitting, we will only need
<code>beta_binomial2_lpmf</code>, but <code>beta_binomial2_rng</code>
will come in handy when it comes to post-processing. We define:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>stanvars <span class="ot">&lt;-</span> <span class="fu">stanvar</span>(<span class="at">scode =</span> stan_funs, <span class="at">block =</span> <span class="st">&quot;functions&quot;</span>)</span></code></pre></div>
<p>To provide information about the number of trials (an integer
variable), we are going to use the addition argument
<code>vint()</code>, which can only be used in custom families.
Similarly, if we needed to include additional vectors of real data, we
would use <code>vreal()</code>. Actually, for this particular example,
we could more elegantly apply the addition argument
<code>trials()</code> instead of <code>vint()</code>as in the basic
binomial model. However, since the present vignette is meant to give a
general overview of the topic, we will go with the more general
method.</p>
<p>We now have all components together to fit our custom beta-binomial
model:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>fit2 <span class="ot">&lt;-</span> <span class="fu">brm</span>(</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  incidence <span class="sc">|</span> <span class="fu">vint</span>(size) <span class="sc">~</span> period <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>herd), <span class="at">data =</span> cbpp,</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="at">family =</span> beta_binomial2, <span class="at">stanvars =</span> stanvars</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>)</span></code></pre></div>
<p>The summary output reveals that the uncertainty in the coefficients
of <code>period</code> is somewhat larger than in the basic binomial
model, which is the result of including the overdispersion parameter
<code>phi</code> in the model. Apart from that, the results looks pretty
similar.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">summary</span>(fit2)</span></code></pre></div>
<pre><code> Family: beta_binomial2 
  Links: mu = logit; phi = identity 
Formula: incidence | vint(size) ~ period + (1 | herd) 
   Data: cbpp (Number of observations: 56) 
  Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;
         total post-warmup draws = 4000

Group-Level Effects: 
~herd (Number of levels: 15) 
              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS
sd(Intercept)     0.39      0.26     0.02     0.98 1.00      631      547

Population-Level Effects: 
          Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS
Intercept    -1.35      0.26    -1.88    -0.87 1.00     2041     1060
period2      -1.01      0.41    -1.82    -0.24 1.00     3035     2360
period3      -1.26      0.46    -2.27    -0.42 1.00     2868     2245
period4      -1.54      0.52    -2.61    -0.56 1.00     2907     2911

Family Specific Parameters: 
    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS
phi    17.38     14.96     5.40    57.27 1.00     1262      928

Draws were sampled using sampling(NUTS). For each parameter, Bulk_ESS
and Tail_ESS are effective sample size measures, and Rhat is the potential
scale reduction factor on split chains (at convergence, Rhat = 1).</code></pre>
</div>
<div id="post-processing-custom-family-models" class="section level2">
<h2>Post-Processing Custom Family Models</h2>
<p>Some post-processing methods such as <code>summary</code> or
<code>plot</code> work out of the box for custom family models. However,
there are three particularly important methods, which require additional
input by the user. These are <code>posterior_epred</code>,
<code>posterior_predict</code> and <code>log_lik</code> computing
predicted mean values, predicted response values, and log-likelihood
values, respectively. They are not only relevant for their own sake, but
also provide the basis of many other post-processing methods. For
instance, we may be interested in comparing the fit of the binomial
model with that of the beta-binomial model by means of approximate
leave-one-out cross-validation implemented in method <code>loo</code>,
which in turn requires <code>log_lik</code> to be working.</p>
<p>The <code>log_lik</code> function of a family should be named
<code>log_lik_&lt;family-name&gt;</code> and have the two arguments
<code>i</code> (indicating observations) and <code>prep</code>. You
don’t have to worry too much about how <code>prep</code> is created (if
you are interested, check out the <code>prepare_predictions</code>
function). Instead, all you need to know is that parameters are stored
in slot <code>dpars</code> and data are stored in slot
<code>data</code>. Generally, parameters take on the form of a <span class="math inline">\(S \times N\)</span> matrix (with <span class="math inline">\(S =\)</span> number of posterior draws and <span class="math inline">\(N =\)</span> number of observations) if they are
predicted (as is <code>mu</code> in our example) and a vector of size
<span class="math inline">\(N\)</span> if the are not predicted (as is
<code>phi</code>).</p>
<p>We could define the complete log-likelihood function in R directly,
or we can expose the self-defined <strong>Stan</strong> functions and
apply them. The latter approach is usually more convenient, but the
former is more stable and the only option when implementing custom
families in other R packages building upon <strong>brms</strong>. For
the purpose of the present vignette, we will go with the latter
approach.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">expose_functions</span>(fit2, <span class="at">vectorize =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>and define the required <code>log_lik</code> functions with a few
lines of code.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>log_lik_beta_binomial2 <span class="ot">&lt;-</span> <span class="cf">function</span>(i, prep) {</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>  mu <span class="ot">&lt;-</span> brms<span class="sc">::</span><span class="fu">get_dpar</span>(prep, <span class="st">&quot;mu&quot;</span>, <span class="at">i =</span> i)</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>  phi <span class="ot">&lt;-</span> brms<span class="sc">::</span><span class="fu">get_dpar</span>(prep, <span class="st">&quot;phi&quot;</span>, <span class="at">i =</span> i)</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>  trials <span class="ot">&lt;-</span> prep<span class="sc">$</span>data<span class="sc">$</span>vint1[i]</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>  y <span class="ot">&lt;-</span> prep<span class="sc">$</span>data<span class="sc">$</span>Y[i]</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>  <span class="fu">beta_binomial2_lpmf</span>(y, mu, phi, trials)</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>}</span></code></pre></div>
<p>The <code>get_dpar</code> function will do the necessary
transformations to handle both the case when the distributional
parameters are predicted separately for each row and when they are the
same for the whole fit.</p>
<p>With that being done, all of the post-processing methods requiring
<code>log_lik</code> will work as well. For instance, model comparison
can simply be performed via</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">loo</span>(fit1, fit2)</span></code></pre></div>
<pre><code>Output of model &#39;fit1&#39;:

Computed from 4000 by 56 log-likelihood matrix

         Estimate   SE
elpd_loo    -99.9 10.1
p_loo        22.1  4.3
looic       199.8 20.3
------
Monte Carlo SE of elpd_loo is NA.

Pareto k diagnostic values:
                         Count Pct.    Min. n_eff
(-Inf, 0.5]   (good)     43    76.8%   1314      
 (0.5, 0.7]   (ok)        9    16.1%   227       
   (0.7, 1]   (bad)       4     7.1%   43        
   (1, Inf)   (very bad)  0     0.0%   &lt;NA&gt;      
See help(&#39;pareto-k-diagnostic&#39;) for details.

Output of model &#39;fit2&#39;:

Computed from 4000 by 56 log-likelihood matrix

         Estimate   SE
elpd_loo    -95.0  8.3
p_loo        10.9  2.1
looic       190.1 16.6
------
Monte Carlo SE of elpd_loo is NA.

Pareto k diagnostic values:
                         Count Pct.    Min. n_eff
(-Inf, 0.5]   (good)     48    85.7%   515       
 (0.5, 0.7]   (ok)        4     7.1%   262       
   (0.7, 1]   (bad)       4     7.1%   29        
   (1, Inf)   (very bad)  0     0.0%   &lt;NA&gt;      
See help(&#39;pareto-k-diagnostic&#39;) for details.

Model comparisons:
     elpd_diff se_diff
fit2  0.0       0.0   
fit1 -4.9       4.2   </code></pre>
<p>Since larger <code>ELPD</code> values indicate better fit, we see
that the beta-binomial model fits somewhat better, although the
corresponding standard error reveals that the difference is not that
substantial.</p>
<p>Next, we will define the function necessary for the
<code>posterior_predict</code> method:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>posterior_predict_beta_binomial2 <span class="ot">&lt;-</span> <span class="cf">function</span>(i, prep, ...) {</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>  mu <span class="ot">&lt;-</span> brms<span class="sc">::</span><span class="fu">get_dpar</span>(prep, <span class="st">&quot;mu&quot;</span>, <span class="at">i =</span> i)</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>  phi <span class="ot">&lt;-</span> brms<span class="sc">::</span><span class="fu">get_dpar</span>(prep, <span class="st">&quot;phi&quot;</span>, <span class="at">i =</span> i)</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>  trials <span class="ot">&lt;-</span> prep<span class="sc">$</span>data<span class="sc">$</span>vint1[i]</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>  <span class="fu">beta_binomial2_rng</span>(mu, phi, trials)</span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a>}</span></code></pre></div>
<p>The <code>posterior_predict</code> function looks pretty similar to
the corresponding <code>log_lik</code> function, except that we are now
creating random draws of the response instead of log-likelihood values.
Again, we are using an exposed <strong>Stan</strong> function for
convenience. Make sure to add a <code>...</code> argument to your
<code>posterior_predict</code> function even if you are not using it,
since some families require additional arguments. With
<code>posterior_predict</code> to be working, we can engage for instance
in posterior-predictive checking:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">pp_check</span>(fit2)</span></code></pre></div>
<p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBARXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAB9KADAAQAAAABAAABkAAAAAD/4gfYSUNDX1BST0ZJTEUAAQEAAAfIYXBwbAIgAABtbnRyUkdCIFhZWiAH2QACABkACwAaAAthY3NwQVBQTAAAAABhcHBsAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWFwcGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtkZXNjAAABCAAAAG9kc2NtAAABeAAABYpjcHJ0AAAHBAAAADh3dHB0AAAHPAAAABRyWFlaAAAHUAAAABRnWFlaAAAHZAAAABRiWFlaAAAHeAAAABRyVFJDAAAHjAAAAA5jaGFkAAAHnAAAACxiVFJDAAAHjAAAAA5nVFJDAAAHjAAAAA5kZXNjAAAAAAAAABRHZW5lcmljIFJHQiBQcm9maWxlAAAAAAAAAAAAAAAUR2VuZXJpYyBSR0IgUHJvZmlsZQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbWx1YwAAAAAAAAAfAAAADHNrU0sAAAAoAAABhGRhREsAAAAkAAABrGNhRVMAAAAkAAAB0HZpVk4AAAAkAAAB9HB0QlIAAAAmAAACGHVrVUEAAAAqAAACPmZyRlUAAAAoAAACaGh1SFUAAAAoAAACkHpoVFcAAAASAAACuGtvS1IAAAAWAAACym5iTk8AAAAmAAAC4GNzQ1oAAAAiAAADBmhlSUwAAAAeAAADKHJvUk8AAAAkAAADRmRlREUAAAAsAAADaml0SVQAAAAoAAADlnN2U0UAAAAmAAAC4HpoQ04AAAASAAADvmphSlAAAAAaAAAD0GVsR1IAAAAiAAAD6nB0UE8AAAAmAAAEDG5sTkwAAAAoAAAEMmVzRVMAAAAmAAAEDHRoVEgAAAAkAAAEWnRyVFIAAAAiAAAEfmZpRkkAAAAoAAAEoGhySFIAAAAoAAAEyHBsUEwAAAAsAAAE8HJ1UlUAAAAiAAAFHGVuVVMAAAAmAAAFPmFyRUcAAAAmAAAFZABWAWEAZQBvAGIAZQBjAG4A/QAgAFIARwBCACAAcAByAG8AZgBpAGwARwBlAG4AZQByAGUAbAAgAFIARwBCAC0AcAByAG8AZgBpAGwAUABlAHIAZgBpAGwAIABSAEcAQgAgAGcAZQBuAOgAcgBpAGMAQx6lAHUAIABoAOwAbgBoACAAUgBHAEIAIABDAGgAdQBuAGcAUABlAHIAZgBpAGwAIABSAEcAQgAgAEcAZQBuAOkAcgBpAGMAbwQXBDAEMwQwBDsETAQ9BDgEOQAgBD8EQAQ+BEQEMAQ5BDsAIABSAEcAQgBQAHIAbwBmAGkAbAAgAGcA6QBuAOkAcgBpAHEAdQBlACAAUgBWAEIAwQBsAHQAYQBsAOEAbgBvAHMAIABSAEcAQgAgAHAAcgBvAGYAaQBskBp1KABSAEcAQoJyX2ljz4/wx3y8GAAgAFIARwBCACDVBLhc0wzHfABHAGUAbgBlAHIAaQBzAGsAIABSAEcAQgAtAHAAcgBvAGYAaQBsAE8AYgBlAGMAbgD9ACAAUgBHAEIAIABwAHIAbwBmAGkAbAXkBegF1QXkBdkF3AAgAFIARwBCACAF2wXcBdwF2QBQAHIAbwBmAGkAbAAgAFIARwBCACAAZwBlAG4AZQByAGkAYwBBAGwAbABnAGUAbQBlAGkAbgBlAHMAIABSAEcAQgAtAFAAcgBvAGYAaQBsAFAAcgBvAGYAaQBsAG8AIABSAEcAQgAgAGcAZQBuAGUAcgBpAGMAb2ZukBoAUgBHAEJjz4/wZYdO9k4AgiwAIABSAEcAQgAgMNcw7TDVMKEwpDDrA5MDtQO9A7kDugPMACADwAPBA78DxgOvA7sAIABSAEcAQgBQAGUAcgBmAGkAbAAgAFIARwBCACAAZwBlAG4A6QByAGkAYwBvAEEAbABnAGUAbQBlAGUAbgAgAFIARwBCAC0AcAByAG8AZgBpAGUAbA5CDhsOIw5EDh8OJQ5MACAAUgBHAEIAIA4XDjEOSA4nDkQOGwBHAGUAbgBlAGwAIABSAEcAQgAgAFAAcgBvAGYAaQBsAGkAWQBsAGUAaQBuAGUAbgAgAFIARwBCAC0AcAByAG8AZgBpAGkAbABpAEcAZQBuAGUAcgBpAQ0AawBpACAAUgBHAEIAIABwAHIAbwBmAGkAbABVAG4AaQB3AGUAcgBzAGEAbABuAHkAIABwAHIAbwBmAGkAbAAgAFIARwBCBB4EMQRJBDgEOQAgBD8EQAQ+BEQEOAQ7BEwAIABSAEcAQgBHAGUAbgBlAHIAaQBjACAAUgBHAEIAIABQAHIAbwBmAGkAbABlBkUGRAZBACAGKgY5BjEGSgZBACAAUgBHAEIAIAYnBkQGOQYnBkUAAHRleHQAAAAAQ29weXJpZ2h0IDIwMDcgQXBwbGUgSW5jLiwgYWxsIHJpZ2h0cyByZXNlcnZlZC4AWFlaIAAAAAAAAPNSAAEAAAABFs9YWVogAAAAAAAAdE0AAD3uAAAD0FhZWiAAAAAAAABadQAArHMAABc0WFlaIAAAAAAAACgaAAAVnwAAuDZjdXJ2AAAAAAAAAAEBzQAAc2YzMgAAAAAAAQxCAAAF3v//8yYAAAeSAAD9kf//+6L///2jAAAD3AAAwGz/wAARCAGQAfQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9sAQwACAgICAgIDAgIDBQMDAwUGBQUFBQYIBgYGBgYICggICAgICAoKCgoKCgoKDAwMDAwMDg4ODg4PDw8PDw8PDw8P/9sAQwECAgIEBAQHBAQHEAsJCxAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQ/90ABAAg/9oADAMBAAIRAxEAPwD9/KKK+YvFd5cw/tf/AA4tElZYJ/B3isugY7GZb3RtpI6EjJwe2TTSuJs+naKKKQwooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/0P38r5X8Z8ftg/DZ/wC74O8U/rqWhr/Wvqivlfxvx+1x8PG9PB3iX/07aAKqG5M9j6ooooqSgooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//R/fyvlfxx/wAnZ+Aj/d8FeJz+Wq6Aa+qK+V/HP/J13gg/3fAviw/lqWgmqhuiZ7M+qKKKKkoKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//9L9/K+V/HX/ACdX4N9vAPi8/lqGh19UV8t+NRu/av8ABa+vgLxeP/KhodVDdEy2Z9SdeaimnhtozLcOsaAgFmOBljgcn1JxSwndCjeqg/pWPr8fn2aWvXz3K/8AfKM3/stEY3dgk7K6NyioLaTzraKX++it+YzU9SykFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB//9P9/K+YPF43fta+B19fAni4f+VHQq+n6+ZfFA3ftd+A19fA3i0f+VHQqa3Ez6Rszus4G9Y1P6VWvAHvLFD03u35Iw/rUmmHdpto3rFGf/HRTJ+dTtF9I5m/IoP61a+J/Ml7IXSCTpdnnqIkB+oUCtCs7Sf+QfEv93cv/fLEVo1M92OGyCiiipKCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//U/fyvmjxHz+2B4BH/AFI/iz/05aFX0vXzT4j/AOTwPAH/AGI/iz/05aFQB9C6R/yCbL2hjH/joofnV4f9mCX9WT/CjSP+QZbD0QD8qOurn/ZgH6t/9atftMzWyDSv+PQj+7LOPylYVo1naZ/qpl9J5v1cn+taNRPdlQ2QUUUVJQUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/9X9/K+afEf/ACeB4A/7EfxZ/wCnLQq+lq+afEf/ACeB4A/7EfxZ/wCnLQqAPoXSf+PCIehYfkxFEfOrz/7MEX6tJ/hRpX/Hnj0klH5SMKIOdUuj6Rwj9XP9a0e7M1sg07g3S+k7/qAf61o1nWHE98vpP/OND/WtGpnuVHYKKKKkoKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1v38r5p8R/8AJ4HgD/sR/Fn/AKctCr6Wr5a8aXy6f+1x4BnbaSfBHitVDMEXP9paEcsxzgAAknB4HQ00ruyE3bVn0ppfFtIPSef/ANGtRbc6hen08sfkuf61V0G4NxaTM67JFnlDqDuCtuJIB4yOeD3FWrPm7vz6SqPyjQ/1rSS1kRF6ILLi7vx/01U/+QkH9K0azrXi/vR6mM/+O4/pWjUS3KjsFFFFSUFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH/9f9/K+XfF1lDefthfDnzlDL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RQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH//1/38r5p8R/8AJ4HgD/sR/Fn/AKctCr6Wr5p8R/8AJ4HgD/sR/Fn/AKctCoA+lqKKKAPMPElvsbUouguIZl/4EgFxGfz8yvhX/goX8KJPih8DNX1jSIz/AGx4cWPxBYmPIkBt0JuACOcmLzMAclwnpx+gXiy1MiuyDLMiuB6mNtp/NZDn2FcmYrW6stKS8RZrW4VIpFYZV4rgbWBB7bt/HpivYwlZx5ZroeViKd24s5z9lT4xxfHn4A+D/iS0gfUL2zWDUQP4b+1Pk3PHYNIpdR/dZT3r6Gr8if2Erm5/Z9/aQ+Lv7HGtSMlgl0de8P7zw8DhNwUnO5nt3hJA6GKTvmv12rjx9FQqtR2eq9Gd2GqOUE3v1CiiiuM3CiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP//Q/fyvmnxH/wAngeAP+xH8Wf8Apy0KvpavmnxH/wAngeAP+xH8Wf8Apy0KgD6WooooAxdcgE1sjHgBthPosoMZ/IsD+FeZCFp/B0/lcT6UPNHHPlSASN/3yd2P93FewXUC3VtLbPwJVK59MjrXk9jIyN5E3y+fKbeVf9jziXP4E49hmu/Cy930ZxYmOvqfm3+3g2ofC34lfB39tjQLUxy+HL+LSdbSE7jLYXKtLGM4H34ZLiIsR950HYZ/XbTtRsdX0+11bTJlubO9iSeGVDlZIpFDIynuGBBFfKvxd+EB+M3wT8b/AAezGZdSspobdZhhY721kMttIrD7oEojJ9RkcZryH/gm18Zb3x3+zhZeE/EMUv8AbXw6uH0K8U8ypDB81qXj+8AsREXAPMTV04qnz0k1vF2+T2M8NUtLXr+a3P0VoqOKWOeJJoWDxuAysDkEHoQakrxz0QooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//0f38r5p8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" width="60%" style="display: block; margin: auto;" /></p>
<p>When defining the <code>posterior_epred</code> function, you have to
keep in mind that it has only a <code>prep</code> argument and should
compute the mean response values for all observations at once. Since the
mean of the beta-binomial distribution is <span class="math inline">\(\text{E}(y) = \mu T\)</span> definition of the
corresponding <code>posterior_epred</code> function is not too
complicated, but we need to get the dimension of parameters and data in
line.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>posterior_epred_beta_binomial2 <span class="ot">&lt;-</span> <span class="cf">function</span>(prep) {</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>  mu <span class="ot">&lt;-</span> brms<span class="sc">::</span><span class="fu">get_dpar</span>(prep, <span class="st">&quot;mu&quot;</span>)</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>  trials <span class="ot">&lt;-</span> prep<span class="sc">$</span>data<span class="sc">$</span>vint1</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>  trials <span class="ot">&lt;-</span> <span class="fu">matrix</span>(trials, <span class="at">nrow =</span> <span class="fu">nrow</span>(mu), <span class="at">ncol =</span> <span class="fu">ncol</span>(mu), <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>  mu <span class="sc">*</span> trials</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>}</span></code></pre></div>
<p>A post-processing method relying directly on
<code>posterior_epred</code> is <code>conditional_effects</code>, which
allows to visualize effects of predictors.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">conditional_effects</span>(fit2, <span class="at">conditions =</span> <span class="fu">data.frame</span>(<span class="at">size =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBARXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAB9KADAAQAAAABAAABkAAAAAD/4gfYSUNDX1BST0ZJTEUAAQEAAAfIYXBwbAIgAABtbnRyUkdCIFhZWiAH2QACABkACwAaAAthY3NwQVBQTAAAAABhcHBsAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWFwcGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtkZXNjAAABCAAAAG9kc2NtAAABeAAABYpjcHJ0AAAHBAAAADh3dHB0AAAHPAAAABRyWFlaAAAHUAAAABRnWFlaAAAHZAAAABRiWFlaAAAHeAAAABRyVFJDAAAHjAAAAA5jaGFkAAAHnAAAACxiVFJDAAAHjAAAAA5nVFJDAAAHjAAAAA5kZXNjAAAAAAAAABRHZW5lcmljIFJHQiBQcm9maWxlAAAAAAAAAAAAAAAUR2VuZXJpYyBSR0IgUHJvZmlsZQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbWx1YwAAAAAAAAAfAAAADHNrU0sAAAAoAAABhGRhREsAAAAkAAABrGNhRVMAAAAkAAAB0HZpVk4AAAAkAAAB9HB0QlIAAAAmAAACGHVrVUEAAAAqAAACPmZyRlUAAAAoAAACaGh1SFUAAAAoAAACkHpoVFcAAAASAAACuGtvS1IAAAAWAAACym5iTk8AAAAmAAAC4GNzQ1oAAAAiAAADBmhlSUwAAAAeAAADKHJvUk8AAAAkAAADRmRlREUAAAAsAAADaml0SVQAAAAoAAADlnN2U0UAAAAmAAAC4HpoQ04AAAASAAADvmphSlAAAAAaAAAD0GVsR1IAAAAiAAAD6nB0UE8AAAAmAAAEDG5sTkwAAAAoAAAEMmVzRVMAAAAmAAAEDHRoVEgAAAAkAAAEWnRyVFIAAAAiAAAEfmZpRkkAAAAoAAAEoGhySFIAAAAoAAAEyHBsUEwAAAAsAAAE8HJ1UlUAAAAiAAAFHGVuVVMAAAAmAAAFPmFyRUcAAAAmAAAFZABWAWEAZQBvAGIAZQBjAG4A/QAgAFIARwBCACAAcAByAG8AZgBpAGwARwBlAG4AZQByAGUAbAAgAFIARwBCAC0AcAByAG8AZgBpAGwAUABlAHIAZgBpAGwAIABSAEcAQgAgAGcAZQBuAOgAcgBpAGMAQx6lAHUAIABoAOwAbgBoACAAUgBHAEIAIABDAGgAdQBuAGcAUABlAHIAZgBpAGwAIABSAEcAQgAgAEcAZQBuAOkAcgBpAGMAbwQXBDAEMwQwBDsETAQ9BDgEOQAgBD8EQAQ+BEQEMAQ5BDsAIABSAEcAQgBQAHIAbwBmAGkAbAAgAGcA6QBuAOkAcgBpAHEAdQBlACAAUgBWAEIAwQBsAHQAYQBsAOEAbgBvAHMAIABSAEcAQgAgAHAAcgBvAGYAaQBskBp1KABSAEcAQoJyX2ljz4/wx3y8GAAgAFIARwBCACDVBLhc0wzHfABHAGUAbgBlAHIAaQBzAGsAIABSAEcAQgAtAHAAcgBvAGYAaQBsAE8AYgBlAGMAbgD9ACAAUgBHAEIAIABwAHIAbwBmAGkAbAXkBegF1QXkBdkF3AAgAFIARwBCACAF2wXcBdwF2QBQAHIAbwBmAGkAbAAgAFIARwBCACAAZwBlAG4AZQByAGkAYwBBAGwAbABnAGUAbQBlAGkAbgBlAHMAIABSAEcAQgAtAFAAcgBvAGYAaQBsAFAAcgBvAGYAaQBsAG8AIABSAEcAQgAgAGcAZQBuAGUAcgBpAGMAb2ZukBoAUgBHAEJjz4/wZYdO9k4AgiwAIABSAEcAQgAgMNcw7TDVMKEwpDDrA5MDtQO9A7kDugPMACADwAPBA78DxgOvA7sAIABSAEcAQgBQAGUAcgBmAGkAbAAgAFIARwBCACAAZwBlAG4A6QByAGkAYwBvAEEAbABnAGUAbQBlAGUAbgAgAFIARwBCAC0AcAByAG8AZgBpAGUAbA5CDhsOIw5EDh8OJQ5MACAAUgBHAEIAIA4XDjEOSA4nDkQOGwBHAGUAbgBlAGwAIABSAEcAQgAgAFAAcgBvAGYAaQBsAGkAWQBsAGUAaQBuAGUAbgAgAFIARwBCAC0AcAByAG8AZgBpAGkAbABpAEcAZQBuAGUAcgBpAQ0AawBpACAAUgBHAEIAIABwAHIAbwBmAGkAbABVAG4AaQB3AGUAcgBzAGEAbABuAHkAIABwAHIAbwBmAGkAbAAgAFIARwBCBB4EMQRJBDgEOQAg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CiiigAooooA//9H9/KKKKACiiigAooooA+aPh/8A8nSfGH/sC+Ef/cpX0vXzR8P/APk6T4w/9gXwj/7lK+l6ACiiigAooooAKKKKAPkL9k7/AJDHx5/7KXq//pDp9fXtfIX7J3/IY+PP/ZS9X/8ASHT6+vaACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP//S/fyiiigAooooAKKKKAPmj4f/APJ0nxh/7AvhH/3KV9L180fD/wD5Ok+MP/YF8I/+5SvpegAooooAKKKKACiiigD5C/ZO/wCQx8ef+yl6v/6Q6fX17XyF+yd/yGPjz/2UvV//AEh0+vr2gAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//0/38ooooAKKKKACiiigD5o+H/wDydJ8Yf+wL4R/9ylfS9fNHw/8A+TpPjD/2BfCP/uUr6XoAKKKKACiiigAooooA+Qv2Tv8AkMfHn/sper/+kOn19e18hfsnf8hj48/9lL1f/wBIdPr69oAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//9T9/KKKKACiiigAooooA+aPh/8A8nSfGH/sC+Ef/cpX0vXzR8P/APk6T4w/9gXwj/7lK+l6ACiiigAooooAKKKKAPkL9k7/AJDHx5/7KXq//pDp9fXtfIX7J3/IY+PP/ZS9X/8ASHT6+vaACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP//V/fyiiigAooooAKKKKAPmj4f/APJ0nxh/7AvhH/3KV9L180fD/wD5Ok+MP/YF8I/+5SvpegAooooAKKKKACiiigD5C/ZO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" width="60%" style="display: block; margin: auto;" /></p>
<p>For ease of interpretation we have set <code>size</code> to 1 so that
the y-axis of the above plot indicates probabilities.</p>
</div>
<div id="turning-a-custom-family-into-a-native-family" class="section level2">
<h2>Turning a Custom Family into a Native Family</h2>
<p>Family functions built natively into <strong>brms</strong> are safer
to use and more convenient, as they require much less user input. If you
think that your custom family is general enough to be useful to other
users, please feel free to open an issue on <a href="https://github.com/paul-buerkner/brms/issues">GitHub</a> so that
we can discuss all the details. Provided that we agree it makes sense to
implement your family natively in brms, the following steps are required
(<code>foo</code> is a placeholder for the family name):</p>
<ul>
<li>In <code>family-lists.R</code>, add function
<code>.family_foo</code> which should contain basic information about
your family (you will find lots of examples for other families
there).</li>
<li>In <code>families.R</code>, add family function <code>foo</code>
which should be a simple wrapper around <code>.brmsfamily</code>.</li>
<li>In <code>stan-likelihood.R</code>, add function
<code>stan_log_lik_foo</code> which provides the likelihood of the
family in Stan language.</li>
<li>If necessary, add self-defined Stan functions in separate files
under <code>inst/chunks</code>.</li>
<li>Add functions <code>posterior_predict_foo</code>,
<code>posterior_epred_foo</code> and <code>log_lik_foo</code> to
<code>posterior_predict.R</code>, <code>posterior_epred.R</code> and
<code>log_lik.R</code>, respectively.</li>
<li>If necessary, add distribution functions to
<code>distributions.R</code>.</li>
</ul>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
